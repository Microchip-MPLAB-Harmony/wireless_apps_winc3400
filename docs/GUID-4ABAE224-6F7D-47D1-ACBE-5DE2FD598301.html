<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="Create your first WINC3400 Bypass mode example using Harmony TCP/IP stack" />
<meta name="DC.relation" scheme="URI" content="GUID-B02CCF0F-B40C-487D-8D4D-570EFA78D2BF.html" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="create-your-first-winc3400-bypass-mode-example-using-harmony-tcpip-stack" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<title>Create your first WINC3400 Bypass mode example using Harmony TCP/IP stack</title>
<meta name="Microsoft.Help.Id" content="GUID-AD5B776E-19C6-49CD-A7CF-B692D58694C2-create-your-first-winc3400-bypass-mode-example-using-harmony-tcpip-stack" />
<meta name="Microsoft.Help.TocParent" content="GUID-AD5B776E-19C6-49CD-A7CF-B692D58694C2" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLAB Harmony WINC3400 Wireless Applications Reference A 12/2022" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
         
         function copyContent(content, button) {
         
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                     button.textContent = "Copy";
                     button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
               console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
         }
         
         function cpy(id, button) {
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            
            copyContent(content, button);
         }
         
         document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.style.position = "relative";
               var copy = document.createElement("button");
               copy.textContent = "Copy";
               copy.setAttribute("class", "copy-code");
               
               var content = elem.textContent;
               
               copy.addEventListener("click", function(){
                  copyContent(content, copy);
               });
               
               elem.addEventListener("mouseenter", function(evt){
                  elem.prepend(copy);
               });
            });
            
            document.querySelectorAll(".codeblock").forEach(function(elem) {
               elem.addEventListener("mouseleave", function(evt){
                  document.querySelector(".copy-code").remove();
               });
            });
         });
         
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-4ABAE224-6F7D-47D1-ACBE-5DE2FD598301"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style><link rel="stylesheet" type="text/css" href="syntax-highlight.css" /></head>
<body id="create-your-first-winc3400-bypass-mode-example-using-harmony-tcpip-stack">
<h1 class="title topictitle1" id="ariaid-title1" style=""><strong class="ph b">Create your first WINC3400 Bypass mode example using Harmony TCP/IP stack</strong></h1><div class="body"></div>
<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="GUID-B02CCF0F-B40C-487D-8D4D-570EFA78D2BF.html">Harmony 3 Wireless application examples for WINC3400</a></div>
</div>
</div><div class="topic nested1" aria-labelledby="ariaid-title2" id="overview"><h2 class="title topictitle2" id="ariaid-title2" style=""><strong class="ph b">Overview</strong></h2><div class="body"><p class="p">This tutorial is a getting-started guide to demonstrate how to create a WINC3400 Bypass (Ethernet) mode example using MPLAB® Harmony v3 TCP/IP stack.</p>
<p class="p">This tutorial implements a simple STA Client application on a microcontroller development board. This will guide you through the steps required to create a new TCP/IP application using MPLAB® Harmony 3 modules.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title3" id="software-details"><h2 class="title topictitle2" id="ariaid-title3" style=""><strong class="ph b">Software Details</strong></h2><div class="body"><p class="p">This tutorial is tested with following tool versions.</p>
<ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://www.microchip.com/mplab/mplab-x-ide" target="_blank">MPLAB® X IDE v5.40</a></p>
</li>
<li class="li"><p class="p"><a class="xref" href="https://www.microchip.com/mplab/compilers" target="_blank">MPLAB® XC32/32++ C Compiler v2.40</a></p>
</li>
<li class="li"><p class="p"><a class="xref" href="https://www.microchip.com/mplab/mplab-harmony" target="_blank">MPLAB® Harmony Configurator Plugin (MHC) v3.6.0</a></p>
</li>
<li class="li"><p class="p"><a class="xref" href="https://www.microchip.com/mplab/mplab-harmony" target="_blank">MPLAB® Harmony v3 Software Framework</a></p>
</li>
</ul>
<p class="p"><strong class="ph b">Note</strong> : Harmony 3 comes in modular format where user can choose which modules to work with. In order to create WINC1500 bypass mode example, following modules are essential.</p>
<p class="p">Harmony Content Manager tool can be used to download/clone the repositories from Github.</p>
<ul class="ul"><li class="li"><p class="p">bsp v3.9.0</p>
</li>
<li class="li"><p class="p">core v3.9.2</p>
</li>
<li class="li"><p class="p">csp v3.9.1</p>
</li>
<li class="li"><p class="p">dev_packs v3.9.0</p>
</li>
<li class="li"><p class="p">mhc v3.8.0</p>
</li>
<li class="li"><p class="p">net v3.7.2</p>
</li>
<li class="li"><p class="p">wireless_wifi v3.5.1</p>
</li>
<li class="li"><p class="p">wireless_apps_winc3400 v3.4.1</p>
</li>
</ul>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title4" id="hardware-setup"><h2 class="title topictitle2" id="ariaid-title4" style=""><strong class="ph b">Hardware Setup</strong></h2><div class="body"><p class="p">The getting-started guide demonstrates the creation of a TCP/IP demo on the <strong class="ph b">SAM E54 Xplained Pro</strong> board with the <strong class="ph b">ATWINC1500 XPRO board</strong>. These steps can be applied for other supported development boards applying the device/board specific configuration changes. The microcontroller should be supported by NET and Wireless modules within H3. At this point, SAM E54 is the only device supported by both modules. New device support is constantly added to modules. Check the individual module release notes for more details about device support.</p>
<ul class="ul"><li class="li"><p class="p"><a class="xref" href="https://www.microchip.com/developmenttools/ProductDetails/ATSAME54-XPRO" target="_blank">SAME54 Xplained PRO</a></p>
</li>
<li class="li"><p class="p"><a class="xref" href="https://www.microchip.com/DevelopmentTools/ProductDetails/ATWINC3400-XPRO" target="_blank">ATWINC3400 XPRO</a></p>
</li>
</ul>
<p class="p">The SAME54 Xplained PRO contains a built-in programmer-debugger tool called Embedded Debugger (EDBG) which is used in this tutorial.</p>
<ul class="ul"><li class="li"><p class="p">Embedded Debugger (<a class="xref" href="http://ww1.microchip.com/downloads/en/devicedoc/atmel-42096-microcontrollers-embedded-debugger_user-guide.pdf" target="_blank">EDBG</a>).</p>
</li>
</ul>
<p class="p">Following image shows the hardware setup.</p>
<br /><img class="image" src="GUID-E5C92C39-942A-4E54-8B09-AC0DBED18E23-low.png" alt="samd21_57" /><br /></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title5" id="creating-a-new-harmony-project"><h2 class="title topictitle2" id="ariaid-title5" style=""><strong class="ph b">Creating a new Harmony project</strong></h2><div class="body"><p class="p">Follow the steps to create a basic Harmony project. The assumption is that H3 modules are cloned at <strong class="ph b">"C:\microchip\harmony\v3"</strong></p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Open the <strong class="ph b">MPLAB® X IDE</strong>.</p>
</li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Create a New Project by selecting <strong class="ph b">File &gt; New Project</strong>.</p>
</li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">In the New Project window select <strong class="ph b">32-Bit MPLAB® Harmony 3 Project</strong> and click <strong class="ph b">Next</strong>.</p>
<br /><img class="image" src="GUID-7A44FF9E-2597-436F-B68B-06FDF3C172CF-low.png" alt="new_project_choose_project" /><br /><p class="p"><strong class="ph b">Note:</strong> The MPLAB® Harmony 3 Project will not be displayed if the MPLAB® Harmony 3 Configurator plug-in is not installed. It has to be installed before continuing with the next steps.</p>
</li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">In the <strong class="ph b">Framework Path</strong>, enter the path of the folder to which the MPLAB® Harmony 3 packages are downloaded.</p>
<br /><img class="image" src="GUID-8ABAEC99-FCDC-42A4-B16A-8430AEC168F6-low.png" alt="new_project_manage_framework" /><br /></li>
<li class="li"><span class="indent-level-default">5.</span><p class="p">In the Project Setting dialog window, fill in or select the information needed as follows:</p>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Location</strong>: First, create a "winc_bypass_getting_started" folder in the location of your choice (for example, create the application project inside the 'C:\microchip\harmony\v3\wireless_apps_winc3400\apps' folder). Then enter the path in this field.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Folder</strong>: Project Folder name. For example, <strong class="ph b">sam_e54_xpro_winc3400</strong>.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Name</strong>: Project Name i.e. <strong class="ph b">winc_bypass_getting_started_sam_e54_xpro_winc3400</strong>.</p>
</li>
<li class="li with-image"><p class="p"><strong class="ph b">Path</strong>: Selecting the above fields auto populates the <strong class="ph b">Path</strong>.</p>
<br /><img class="image" src="GUID-427AD757-7357-45E0-A904-0161617A6840-low.png" alt="winc3400_project_location" /><br /></li>
<li class="li"><p class="p">Click <strong class="ph b">Next</strong>.</p>
</li>
</ul>
</li>
<li class="li"><span class="indent-level-default">6.</span><p class="p">In the Configuration Settings dialog window, fill in or select the information needed as follows:</p>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Name</strong>: Configuration Name. For example, <strong class="ph b">sam_e54_xpro_winc3400</strong>.</p>
</li>
<li class="li"><p class="p"><strong class="ph b">Target Device</strong>: Use the below table to chose the target device part number based on the demo board that you are using. For this example: SAM E54 Xplained Pro uses <strong class="ph b">ATSAME54P20A</strong>.</p>
</li>
<li class="li with-image"><p class="p">The <strong class="ph b">Device Filter</strong> textbox helps narrow down list of available devices as shown.</p>
<br /><img class="image" src="GUID-21999A51-8AFF-4945-8DDB-C69FB3DCC4F8-low.png" alt="winc3400_project_config" /><br /></li>
<li class="li"><p class="p">Click <strong class="ph b">Finish</strong>.</p>
</li>
</ul>
</li>
<li class="li"><span class="indent-level-default">7.</span><p class="p">First time when you create a Harmony 3 project, "Window Manager Selection Dialog" appears. The user can select "Standalone" or "Native" depending upon the preference. "Standalone" opens the MHC in a separate window. "Native" opens MHC as a window within MPLAB® X IDE.</p>
<br /><img class="image" src="GUID-413A3028-F97D-429B-B079-245902CDA434-low.png" alt="mhc3_window_manager_selection" /><br /></li>
<li class="li"><span class="indent-level-default">8.</span><p class="p">If the above dialog window doesn't appear then MHC can be launched by selecting MPLAB® Harmony 3 Configurator under <strong class="ph b">Tools -&gt; Embedded -&gt; MPLAB® Harmony 3 Configurator</strong>.</p>
<br /><img class="image" src="GUID-36D8EEEE-DD9C-4EFF-B7FF-55E12161A2E1-low.png" alt="project_start_mhc" /><br /></li>
<li class="li"><span class="indent-level-default">9.</span><p class="p">In the MPLAB® Harmony Launcher window, leave the launch path as default option i.e. <strong class="ph b">MPLAB® Harmony Project Path</strong> but make sure it is correctly pointed to desired H3 cloned directory and click <strong class="ph b">Launch</strong>.</p>
<br /><img class="image" src="GUID-20848E32-6A91-4297-A970-D5895B68DB1A-low.png" alt="winc3400_mhc_launch_1" /><br /></li>
<li class="li"><span class="indent-level-default">10.</span><p class="p">In the <strong class="ph b">Configuration Database Setup</strong> window, leave the DFP and CMSIS paths as default and click <strong class="ph b">Launch</strong></p>
<br /><img class="image" src="GUID-18AA1D0C-BC11-420D-B0B4-416583D438A6-low.png" alt="winc3400_mhc_launch_2" /><br /></li>
<li class="li"><span class="indent-level-default">11.</span><p class="p">MHC window will open now. The default standalone Harmony configurator will be as shown below.</p>
<p class="p">Different parts of configurator are:</p>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Available Components</strong></p>
</li>
<li class="li"><p class="p"><strong class="ph b">Active Components</strong></p>
</li>
<li class="li"><p class="p"><strong class="ph b">Project Graph</strong></p>
</li>
<li class="li"><p class="p"><strong class="ph b">Configuration Options</strong></p>
</li>
<li class="li"><p class="p"><strong class="ph b">Console Window</strong></p>
</li>
</ul>
<br /><img class="image" src="GUID-B24ACEF2-A41D-4682-B7CE-AC4DF4022F12-low.png" alt="winc3400_project_graph" /><br /></li>
<li class="li"><span class="indent-level-default">12.</span><p class="p">Depending upon the application needs, the necessary components can be added from the <strong class="ph b">Available Components</strong>.</p>
<p class="p">Go to <strong class="ph b">Available Components -&gt; Board Support Packages (BSPs)</strong> and double click on the Board support package for the target board. Below example shows the BSP for SAME54 Xplained Ultra board.</p>
<br /><img class="image" src="GUID-B16DFF59-4D53-4021-9CE3-3DF60C8F7FDA-low.png" alt="winc3400_bsp" /><br /><p class="p">After adding BSP, the Project Graph will look as below:</p>
<br /><img class="image" src="GUID-C25FE373-2641-49F1-9F1D-FFF4FE581C30-low.png" alt="winc3400_bsp_active" /><br /><p class="p">Basic components needed for creating a project will be available in project graph by default.
The next step would be to configure the components based on the application needs.</p>
</li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title6" id="add-tcpip-components"><h2 class="title topictitle2" id="ariaid-title6" style=""><strong class="ph b">Add TCP/IP Components</strong></h2><div class="body"><p class="p">The <strong class="ph b">TCP/IP</strong> components can be added from the <strong class="ph b">Available Components</strong>. Go to <strong class="ph b">Available Components -&gt; Libraries -&gt; TCPIP</strong></p>
<p class="p">The TCP/IP components are categorized into 5 different groups and a configurator is available for each group.</p>
<p class="p">These configurators are:</p>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">TCP/IP Application Layer Configurator</strong></p>
</li>
<li class="li"><p class="p"><strong class="ph b">TCP/IP Transport Layer Configurator</strong></p>
</li>
<li class="li"><p class="p"><strong class="ph b">TCP/IP Network Layer Configurator</strong></p>
</li>
<li class="li"><p class="p"><strong class="ph b">TCP/IP Driver Layer Configurator</strong></p>
</li>
<li class="li"><p class="p"><strong class="ph b">TCP/IP Basic Configurator</strong></p>
</li>
</ul>
<br /><img class="image" src="GUID-CDC66CE9-6A75-470B-902A-FC83DEB3ACD2-low.png" alt="mhc_steps_tcpip_avlbl_comp" /><br /><p class="p"><strong class="ph b">Note:</strong> It is recommended to add the TCP/IP components using these configurators.</p>
<p class="p">When the components are added using configurators, the dependent modules will be auto-activated.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title7" id="application-layer-configurator"><h2 class="title topictitle2" id="ariaid-title7" style=""><strong class="ph b">Application Layer Configurator</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Under <strong class="ph b">Available Components</strong>, Select the <strong class="ph b">TCP/IP Application Layer Configurator</strong> and double click.
This step will add the <strong class="ph b">TCP/IP Application Layer Configurator</strong> inside the <strong class="ph b">APPLICATION LAYER</strong> group.</p>
<br /><img class="image" src="GUID-E2548C05-0BA4-43A0-8AD0-112B9882AAF3-low.png" alt="winc3400_tcp_ip_application" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">This step also creates a hierarchy of groups as <strong class="ph b">Root-&gt;TCP/IP STACK-&gt;APPLICATION LAYER</strong>. Verify the hierarchy by going <strong class="ph b">View:</strong> dropdown and check out different layers.</p>
<br /><img class="image" src="GUID-0E09A60B-8544-452D-850F-ECE0928448E3-low.png" alt="mhc_steps_tcpip_view_dropdown" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">If you changed the view, come back to <strong class="ph b">APPLICATION LAYER</strong> view by using <strong class="ph b">View:</strong> dropdown.</p>
</li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">Select the <strong class="ph b">TCP/IP Application Layer Configurator</strong>. See the configurations options on right hand side.</p>
<br /><img class="image" src="GUID-ACA52A33-F98F-48E8-B8BD-706DB300241C-low.png" alt="mhc_steps_tcpip_app_configurator_show" /><br /><p class="p">The different application protocols supported in the Harmony TCP/IP stack are listed.</p>
<p class="p">Start selecting the required TCP/IP application layer protocols from the <strong class="ph b">Configuration Options</strong> on right hand side.</p>
</li>
<li class="li"><span class="indent-level-default">5.</span><p class="p">For the Getting Started demo, select the <strong class="ph b">DHCP CLIENT</strong>. This step will auto-activate all the dependent components.</p>
</li>
<li class="li"><span class="indent-level-default">6.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">Harmony Core</strong> component.</p>
<br /><img class="image" src="GUID-7E42C6DA-26A5-401F-8176-A8A2048DE32B-low.png" alt="mhc_steps_tcpip_app_configurator_dhcpc_core" /><br /></li>
<li class="li"><span class="indent-level-default">7.</span><p class="p">Click <strong class="ph b">No</strong> to for the FreeRTOS auto-activation as this demo does not need the FreeRTOS.</p>
<br /><img class="image" src="GUID-03DA3D35-1914-48CD-A1BE-48336F2AFC8B-low.png" alt="mhc_steps_tcpip_app_configurator_rtos" /><br /></li>
<li class="li"><span class="indent-level-default">8.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">TIME</strong> (sys_time) component.</p>
<br /><img class="image" src="GUID-BE923548-9C16-4696-8DCC-73EE5559BADC-low.png" alt="mhc_steps_tcpip_app_configurator_time" /><br /></li>
<li class="li"><span class="indent-level-default">9.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">CONSOLE</strong> (sys_console) component.</p>
<br /><img class="image" src="GUID-6D1FC7F2-FE5F-493B-9449-FD4508D7709B-low.png" alt="mhc_steps_tcpip_app_configurator_console" /><br /></li>
<li class="li"><span class="indent-level-default">10.</span><p class="p">Click <strong class="ph b">Yes</strong> to connect the <strong class="ph b">CONSOLE</strong> component with <strong class="ph b">TCP/IP CORE</strong>.</p>
<br /><img class="image" src="GUID-F0E87CD4-895F-404A-9349-462718D7D8E1-low.png" alt="mhc_steps_tcpip_app_configurator_console_autoconn" /><br /></li>
<li class="li"><span class="indent-level-default">11.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">DEBUG</strong> (sys_debug) component.</p>
<br /><img class="image" src="GUID-A97EDA1E-A8E9-430D-AED8-CE2D2BD851B2-low.png" alt="mhc_steps_tcpip_app_configurator_debug" /><br /></li>
<li class="li"><span class="indent-level-default">12.</span><p class="p">Click <strong class="ph b">Yes</strong> to connect the <strong class="ph b">CONSOLE</strong> component with <strong class="ph b">TCP/IP CORE</strong>.</p>
<br /><img class="image" src="GUID-87088E1F-6C6C-42C2-8B14-0D974B3B40B3-low.png" alt="mhc_steps_tcpip_app_configurator_debug_autoconn" /><br /></li>
<li class="li"><span class="indent-level-default">13.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">IPv4</strong> component in TCP/IP Network Layer.</p>
<br /><img class="image" src="GUID-443BBCC2-5D4F-4D2B-82DC-B00E9F0D3864-low.png" alt="mhc_steps_tcpip_app_configurator_ipv4" /><br /></li>
<li class="li"><span class="indent-level-default">14.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">ARP</strong> component in TCP/IP Network Layer.</p>
<br /><img class="image" src="GUID-C9F29696-8DAA-447B-A020-B08B022A920B-low.png" alt="mhc_steps_tcpip_app_configurator_arp" /><br /></li>
<li class="li"><span class="indent-level-default">15.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">UDP</strong> component in TCP/IP Transport Layer.</p>
<br /><img class="image" src="GUID-84769EEC-66B4-4C3B-87DA-4944410B25A8-low.png" alt="mhc_steps_tcpip_app_configurator_udp" /><br /><p class="p">After the auto-activation of dependent components, the <strong class="ph b">DHCP CLIENT</strong> component is added to Project Graph</p>
<br /><img class="image" src="GUID-CB93AE49-5D04-4BAC-8CD5-A7C842E097BC-low.png" alt="mhc_steps_tcpip_app_configurator_dhcpc_done" /><br /></li>
<li class="li"><span class="indent-level-default">16.</span><p class="p">Add the <strong class="ph b">DNS CLIENT</strong> to <strong class="ph b">APPLICATION LAYER</strong></p>
<br /><img class="image" src="GUID-AD8DF68E-2825-4BCC-B00D-F32641D1223A-low.png" alt="mhc_steps_tcpip_app_configurator_dnsc" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title8" id="transport-layer-configurator"><h2 class="title topictitle2" id="ariaid-title8" style=""><strong class="ph b">Transport Layer Configurator</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Click on <strong class="ph b">View:</strong> dropdown and go to the <strong class="ph b">TRANSPORT LAYER</strong>.</p>
<br /><img class="image" src="GUID-6360A0EB-535A-49D8-87AD-3171DEA516FA-low.png" alt="mhc_steps_tcpip_view_dropdown_app_to_trans" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Select the <strong class="ph b">TCP/IP Transport Layer Configurator</strong>.</p>
<br /><img class="image" src="GUID-3B5B05A3-AFCC-4B57-9A4B-46642CB505DF-low.png" alt="mhc_steps_tcpip_trans_configurator" /><br /><p class="p">UDP has been auto-activated while adding the Application Layer components.</p>
</li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Add the <strong class="ph b">TCP</strong> protocol support for this demo.</p>
<br /><img class="image" src="GUID-45B5F46C-84F4-4C81-8185-CDFE90247EC3-low.png" alt="mhc_steps_tcpip_trans_configurator_tcp" /><br /></li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">TCP</strong> component in the TCP/IP Transport Layer</p>
<br /><img class="image" src="GUID-5B391773-8500-45E3-9171-5335B37E7F6D-low.png" alt="mhc_steps_tcpip_trans_configurator_tcp_done" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title9" id="network-layer-configurator"><h2 class="title topictitle2" id="ariaid-title9" style=""><strong class="ph b">Network Layer Configurator</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Click on <strong class="ph b">View:</strong> dropdown and go to the <strong class="ph b">NETWORK LAYER</strong>.</p>
<br /><img class="image" src="GUID-A574E3B0-808A-4EDB-B666-A7685657A0D2-low.png" alt="mhc_steps_tcpip_view_dropdown_trans_to_netw" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Select the <strong class="ph b">TCP/IP Network Layer Configurator</strong>.</p>
<br /><img class="image" src="GUID-44C54065-983E-4145-A758-03EA8EBC2A08-low.png" alt="mhc_steps_tcpip_network_configurator" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Add the <strong class="ph b">ICMPv4</strong> protocol support for this demo.</p>
<br /><img class="image" src="GUID-4E1FCAA2-5478-4214-9CD3-D537113B45D2-low.png" alt="mhc_steps_tcpip_network_icmp" /><br /></li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">ICMPv4</strong> component in the TCP/IP Network Layer</p>
<br /><img class="image" src="GUID-02C893A1-1E03-41D1-BBDA-D93AE720798A-low.png" alt="mhc_steps_tcpip_network_icmp_done" /><br /></li>
<li class="li"><span class="indent-level-default">5.</span><p class="p">Select <strong class="ph b">ICMPv4</strong> component in project graph to show its configuration settings in Configuration Options window. Enable checkbox for <strong class="ph b">Use ICMPv4 Client</strong>. We need this to be able to ping other devices.</p>
<br /><img class="image" src="GUID-9E343ED4-9B32-430F-A09E-DCFFEA8BA188-low.png" alt="mhc_steps_tcpip_network_icmpc_enable" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title10" id="driver-layer-configurator"><h2 class="title topictitle2" id="ariaid-title10" style=""><strong class="ph b">Driver Layer Configurator</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Click on <strong class="ph b">View:</strong> dropdown and go to the <strong class="ph b">DRIVER LAYER</strong>.</p>
<br /><img class="image" src="GUID-C282A014-0351-4669-99EB-9FF5056D8156-low.png" alt="mhc_steps_tcpip_view_dropdown_netw_to_drv" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Select the <strong class="ph b">TCP/IP Driver Layer Configurator</strong> and enable <strong class="ph b">WINC</strong> module checkbox. Click <strong class="ph b">Yes</strong> to add the <strong class="ph b">WINC</strong> component in the TCP/IP Driver Layer</p>
<br /><img class="image" src="GUID-B6E1D863-3A87-43B4-A248-0D674E3D509D-low.png" alt="mhc_steps_tcpip_drv_layer_winc" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Click <strong class="ph b">Yes</strong> to connect the <strong class="ph b">WINC</strong> component with the <strong class="ph b">NETCONFIG</strong>.</p>
<br /><img class="image" src="GUID-71570CD9-11E7-45B8-A38D-44AD7E68FC04-low.png" alt="mhc_steps_tcpip_drv_winc_mac_depndnc" /><br /></li>
<li class="li"><span class="indent-level-default">4.</span><p class="p"><strong class="ph b">WINC</strong> component is added in the TCP/IP Driver Layer.</p>
<br /><img class="image" src="GUID-CA91FC1C-38AC-422F-BBDB-8EE9E851FEA4-low.png" alt="mhc_steps_tcpip_drv_winc_added" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title11" id="basic-configuration"><h2 class="title topictitle2" id="ariaid-title11" style=""><strong class="ph b">Basic Configuration</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Click on <strong class="ph b">View:</strong> dropdown and go to the <strong class="ph b">Basic Configuration</strong> layer.</p>
<br /><img class="image" src="GUID-273C7BF9-B59F-43B5-B620-E7243FC5C8FD-low.png" alt="mhc_steps_tcpip_view_dropdown_drv_to_basic" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">This layer contains TCP/IP stack's core configuration,interface selection, heap management, MAC configuration, etc. <strong class="ph b">Basic STACK Configuration</strong> and <strong class="ph b">Network Configuration</strong> are already auto-activated, during previous steps.</p>
<br /><img class="image" src="GUID-C9CEA5F6-FD24-4102-BF74-BB9BF59D93A4-low.png" alt="mhc_steps_tcpip_basic_configurator" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Select the <strong class="ph b">TCP/IP Basic Configurator</strong> and enable <strong class="ph b">TCPIP CMD</strong></p>
<br /><img class="image" src="GUID-E6B2C206-1670-43F0-9096-143B27C1CBC6-low.png" alt="mhc_steps_tcpip_basic_cmd" /><br /></li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">Click <strong class="ph b">Yes</strong> to connect the <strong class="ph b">CMD</strong> component with the <strong class="ph b">SYS Console</strong>.</p>
<br /><img class="image" src="GUID-64ADC654-48EF-4F69-B7D9-30902E757F43-low.png" alt="mhc_steps_tcpip_basic_cmd_depndncy" /><br /></li>
<li class="li"><span class="indent-level-default">5.</span><p class="p">Command module is added to the <strong class="ph b">Basic Configuration</strong> layer.</p>
<br /><img class="image" src="GUID-44344C2E-D5D4-4AED-A025-4314ADFAB66F-low.png" alt="mhc_steps_tcpip_basic_cmd_added" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title12" id="satisfying-module-dependencies"><h2 class="title topictitle2" id="ariaid-title12" style=""><strong class="ph b">Satisfying Module Dependencies</strong></h2><div class="body"><p class="p">The project needs few more Harmony components. In this section, we will add and configure the required components.</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Click on <strong class="ph b">View:</strong> dropdown and go to the <strong class="ph b">Root</strong> layer.</p>
<br /><img class="image" src="GUID-58B27832-A10C-4C34-9C0C-624396756832-low.png" alt="mhc_steps_tcpip_view_dropdown_basic_to_root" /><br /><p class="p">The <strong class="ph b">Root</strong> layer will be as shown below. The <strong class="ph b">red diamond-shaped</strong> buttons are unsatisfied mandatory dependencies. the connections might look messy at first. Feel free to move around some boxes so that project graph looks pretty.</p>
<br /><img class="image" src="GUID-7006D35D-B4F8-41AB-84BB-3B6FDE89C156-low.png" alt="mhc_steps_tcpip_root_1" /><br /></li>
</ol>
<ul class="ul"><li class="li"><p class="p"><strong class="ph b">Note:</strong> There are two ways to satisfy dependencies. You can either <strong class="ph b">right-click</strong> on red diamonds and select available satisfiers <strong class="ph b">OR</strong> you can manually add components from Avilable Components window and <strong class="ph b">manually</strong> connect diamonds. Both ways are shown here.</p>
</li>
</ul>
</div>
<div class="topic nested2" aria-labelledby="ariaid-title13" id="satisfy-timer-dependency"><h3 class="title topictitle3" id="ariaid-title13" style=""><strong class="ph b">Satisfy Timer dependency:</strong></h3><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Right click on red diamond for <strong class="ph b">TIME</strong> module. From the list of Satisfiers, select <strong class="ph b">TC3</strong>.</p>
<br /><img class="image" src="GUID-EA9AF278-82AA-479D-ADCC-2803A8835FA7-low.png" alt="mhc_steps_project_tcpip_root_tc" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Timer peripheral instance <strong class="ph b">TC3</strong> will be added to <strong class="ph b">Root</strong> layer and connected to the <strong class="ph b">TIMER</strong> module.</p>
<br /><img class="image" src="GUID-E27E4F89-0C67-4830-8C12-1AC21B119010-low.png" alt="mhc_steps_tcpip_root_tc_done" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested2" aria-labelledby="ariaid-title14" id="satisfy-console-dependency"><h3 class="title topictitle3" id="ariaid-title14" style=""><strong class="ph b">Satisfy Console dependency:</strong></h3><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">From <strong class="ph b">Available Components &gt; Peripherals &gt; SERCOM &gt;</strong>, double-click on <strong class="ph b">SERCOM2</strong> to add it to current layer.</p>
<br /><img class="image" src="GUID-F4E110E4-C58C-41EF-97A3-36E04AEAE32C-low.png" alt="mhc_steps_avilable_plib_sercom" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p"><strong class="ph b">SERCOM2</strong> is added to the <strong class="ph b">Root</strong> layer.</p>
<br /><img class="image" src="GUID-7455B416-3164-4F2C-A89C-D249A229C8DB-low.png" alt="mhc_steps_tcpip_root_sercom_added" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">To satisy Console UART dependency, <strong class="ph b">manually connect UART diamond from SERCOM2 with the UART diamond of CONSOLE module</strong>.</p>
<br /><img class="image" src="GUID-AFC095DD-840B-401D-BC74-91B38D3CB964-low.png" alt="mhc_steps_tcpip_root_console_uart_connection" /><br /></li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">Select <strong class="ph b">SERCOM2</strong> in the Project Graph. In the Configuration Options of <strong class="ph b">SERCOM2</strong>,</p>
<ul class="ul"><li class="li"><p class="p">Set the <strong class="ph b">TX Ring Buffer Size</strong> to <strong class="ph b">1024</strong></p>
</li>
<li class="li"><p class="p">Set the <strong class="ph b">Receive Pinout</strong> to <strong class="ph b">PAD<span class="xref"></span></strong>.</p>
</li>
</ul>
<br /><img class="image" src="GUID-7FF93B56-5921-4957-BD5A-ABAC03DE978F-low.png" alt="mhc_steps_tcpip_root_sercom_recv_pad" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested2" aria-labelledby="ariaid-title15" id="satisfy-tcpip-stacks-ie-wincs-spi-dependency"><h3 class="title topictitle3" id="ariaid-title15" style=""><strong class="ph b">Satisfy TCP/IP Stack's (i.e. WINC's) SPI dependency:</strong></h3><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Right click on <strong class="ph b">DRV_SPI</strong> red diamond of <strong class="ph b">TCP/IP STACK</strong> module and select <strong class="ph b">SPI</strong> as satisfier.</p>
<br /><img class="image" src="GUID-E7DF1B2A-5726-4269-ADF8-66A0213C4DB2-low.png" alt="mhc_steps_tcpip_root_spi_drv" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Right click on red diamond of SPI driver module and select <strong class="ph b">SERCOM4</strong>.</p>
<br /><img class="image" src="GUID-9FE217C1-88DC-4E56-9B67-45A2E88176C2-low.png" alt="mhc_steps_tcpip_root_drv_spi_plib" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Select <strong class="ph b">SERCOM4</strong> in the Project Graph. In the Configuration Options of <strong class="ph b">SERCOM4</strong>,</p>
<ul class="ul"><li class="li"><p class="p">Set the <strong class="ph b">Data IN pad</strong> to <strong class="ph b">PAD<span class="xref"></span></strong></p>
</li>
<li class="li"><p class="p">Select <strong class="ph b">Enable SPI Master Hardware Select</strong> checkbox.</p>
</li>
</ul>
<br /><img class="image" src="GUID-B283698F-F20C-456E-82E8-E63FDA8E7DE8-low.png" alt="mhc_steps_tcpip_root_sercom_spi_settings" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested2" aria-labelledby="ariaid-title16" id="satisfy-transport-layer-lib-crypto-dependency"><h3 class="title topictitle3" id="ariaid-title16" style=""><strong class="ph b">Satisfy Transport Layer LIB_CRYPTO Dependency:</strong></h3><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Click on <strong class="ph b">View</strong>: dropdown and go to the <strong class="ph b">Tranport layer</strong>.</p>
<br /><img class="image" src="GUID-5D7FAE8B-7646-4F4E-8021-46C69F5BD03C-low.png" alt="winc3400_transport_layer" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Right click on <strong class="ph b">LIB_CRYPTO</strong> of <strong class="ph b">TCP</strong> and select <strong class="ph b">Cryptographic Library</strong> from <strong class="ph b">Available Satisfiers</strong></p>
<br /><img class="image" src="GUID-E69B7943-9C45-4F12-8BCB-C310001372DB-low.png" alt="winc3400_transport_layer_1" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Right click on <strong class="ph b">LIB_WOLFCRYPT</strong> of <strong class="ph b">Cryptographic Library</strong> and select <strong class="ph b">wolfCrypt Library</strong> from the list of Satisfiers.</p>
<br /><img class="image" src="GUID-C04DC531-D6C6-4563-BD99-82BDC58047D4-low.png" alt="winc3400_transport_layer_2" /><br /></li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">The project graph will become:</p>
<br /><img class="image" src="GUID-AD1E81D9-154E-48C5-AFB4-61FB6A26FAF2-low.png" alt="winc3400_transport_layer_3" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested2" aria-labelledby="ariaid-title17" id="satisfy-wincs-external-interrupt-dependency"><h3 class="title topictitle3" id="ariaid-title17" style=""><strong class="ph b">Satisfy WINC's External Interrupt dependency:</strong></h3><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">From <strong class="ph b">Available Components &gt; Peripherals &gt; EIC &gt;</strong>, double-click on <strong class="ph b">EIC</strong> to add it to current Root layer.</p>
<br /><img class="image" src="GUID-0EBA306B-31AA-4607-B553-8037732CE9FE-low.png" alt="mhc_steps_avilable_plib_eic" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Select <strong class="ph b">EIC</strong> in the Project Graph. In the Configuration Options of <strong class="ph b">EIC</strong>,</p>
<ul class="ul"><li class="li"><p class="p">Select <strong class="ph b">Enable EIC channel 7</strong>.</p>
</li>
<li class="li"><p class="p">Select <strong class="ph b">Enable Interrupt</strong></p>
</li>
<li class="li"><p class="p">Set the Edge selection to <strong class="ph b">Falling edge detection</strong>.</p>
</li>
</ul>
<br /><img class="image" src="GUID-08A32197-3002-4CE3-BB28-39E5AC550ABD-low.png" alt="mhc_steps_tcpip_root_eic_conf" /><br /></li>
</ol>
<p class="p">All necessary dependencies are care of.</p>
</div>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title18" id="project-heap-configuration"><h2 class="title topictitle2" id="ariaid-title18" style=""><strong class="ph b">Project Heap Configuration</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Select the <strong class="ph b">System</strong> in the Project Graph. In Configuration Options, set the <strong class="ph b">Heap Size (bytes)</strong> to <strong class="ph b">96960</strong>.</p>
<br /><img class="image" src="GUID-9EFA3C64-06C6-4A06-9448-3CFEE11A0A99-low.png" alt="mhc_steps_system_heap" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title19" id="winc-driver-configuration"><h2 class="title topictitle2" id="ariaid-title19" style=""><strong class="ph b">WINC Driver Configuration</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Click on <strong class="ph b">View:</strong> dropdown and go to the <strong class="ph b">DRIVER LAYER</strong>.</p>
<br /><img class="image" src="GUID-E2219A32-41DD-49D9-A5ED-2B77BFAA591A-low.png" alt="mhc_steps_tcpip_view_dropdown_root_to_drv" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Select <strong class="ph b">WINC</strong> module in project graph. In the Configuration Options window, select the Interrupt Source for WINC as recently enabled <strong class="ph b">EIC Channel 7</strong>.</p>
<br /><img class="image" src="GUID-D57B39E1-51D9-4AD2-8430-0F0C7BADCD33-low.png" alt="mhc_steps_tcpip_drv_winc_conf_eic" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title20" id="pin-configuration"><h2 class="title topictitle2" id="ariaid-title20" style=""><strong class="ph b">Pin Configuration</strong></h2><div class="body"><p class="p">The I/O pins on the device can have alternate functions other than the general purpose I/O function. Here, we will configure the functionality of the I/O pins required for this demo.</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Open <strong class="ph b">MHC -&gt; Tools -&gt; Pin Configuration</strong>.</p>
<br /><img class="image" src="GUID-6E310B41-E2A1-4F4C-A2B1-24745B5E2591-low.png" alt="mhc_steps_tcpip_pin_config" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Configure the pins for <strong class="ph b">EXT_INT7, SERCOM2, SERCOM4 and 2 GPIO</strong> as shown below. Notice the GPIO pins must have <strong class="ph b">Custom Name</strong> as shown in the figure.</p>
<br /><img class="image" src="GUID-84AD5C6E-5692-4789-B19D-8EFF1E1EC048-low.png" alt="winc3400_reset_pin" /><br /><br /><img class="image" src="GUID-9F5FE955-DFC7-48CA-9279-3861609ACAD7-low.png" alt="mhc_steps_tcpip_pin_config_2" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title21" id="code-generation"><h2 class="title topictitle2" id="ariaid-title21" style=""><strong class="ph b">Code Generation</strong></h2><div class="body"><p class="p">Once Harmony components are added using MHC to the Project Graph, it's time to generate the source files based on the configurations.</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Click Save button and Generate the code by clicking the <strong class="ph b">Generate Code</strong> button (marked in red).</p>
<br /><img class="image" src="GUID-7028DF3B-4028-4F95-9293-4A72A2E33FB5-low.png" alt="mhc_steps_tcpip_generate_code" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Select the <strong class="ph b">Merge Strategy</strong> as <strong class="ph b">USER ALL</strong>. Refer to the MHC documentation for different merge strategy options.</p>
<br /><img class="image" src="GUID-1C4B94EE-8AB8-4267-8B8B-0D9971E0E964-low.png" alt="mhc_steps_tcpip_generate_code_merg_strat" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Click the <strong class="ph b">Generate</strong> button to start the code generation.</p>
<br /><img class="image" src="GUID-C5031A80-AE29-4849-B233-D8FE515898C6-low.png" alt="mhc_steps_tcpip_generate_code_progress" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title22" id="application-coding"><h2 class="title topictitle2" id="ariaid-title22" style=""><strong class="ph b">Application Coding</strong></h2><div class="body"><p class="p">Now, you have the MPLAB® Harmony components configured for a TCP/IP application. The Getting-Started demo implements a simple Wi-Fi STA application. This application is written using the APIs provided by the MPLAB® Harmony TCP/IP Stack.</p>
<p class="p">There is already a STA demo implemented at <strong class="ph b">D:\MH3\wireless_apps_winc3400\apps\wifi_winc_sta_bypass</strong>. Let's make use of those source files for the <strong class="ph b">winc_bypass_getting_started</strong> demo.</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Copy the application files (i.e. <strong class="ph b">app.c</strong>, <strong class="ph b">app.h</strong>) from <strong class="ph b">D:\MH3\wireless_apps_winc3400\apps\wifi_winc_sta_bypass\firmware\src</strong>.</p>
</li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Paste the application files at our current project's location. <strong class="ph b">D:\MH3\wireless_apps_winc3400\apps\winc_bypass_getting_started\firmware\src</strong>.</p>
<br /><img class="image" src="GUID-86977541-0C3E-4C48-A180-35C5E6BD2E44-low.png" alt="winc3400_copy_files" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">In MPLAB® X IDE project, open the <strong class="ph b">app.c</strong> file that has been added to project and change the access point parameters as shown in the picture below.</p>
<br /><img class="image" src="GUID-63D4BFAB-D745-4A12-ABB9-490A99D59FE1-low.png" alt="winc3400_homeap" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title23" id="build-the-application"><h2 class="title topictitle2" id="ariaid-title23" style=""><strong class="ph b">Build the Application</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Open the project <strong class="ph b">Properties</strong> by Right Clicking on the project name (winc_bypass_getting_started). Ensure that the <strong class="ph b">XC32</strong> Compiler Tool-chain and <strong class="ph b">SAME54 EDBG</strong> hardware tool is selected. Press <strong class="ph b">OK</strong>.</p>
<br /><img class="image" src="GUID-7AE08418-6B5B-458D-BCA0-F5959F1514AC-low.png" alt="winc3400_project_properties" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Build the application by clicking on the <strong class="ph b">Build Main Project</strong>.</p>
<br /><img class="image" src="GUID-5B0CAE06-45B6-4099-8C41-2F63ED340A15-low.png" alt="project_build" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Verify the build results. Make sure that the build is successful.</p>
<br /><img class="image" src="GUID-192B5C8B-91CC-46B1-AE0E-3A70AC6695B2-low.png" alt="project_build_result" /><br /></li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title24" id="program-the-application"><h2 class="title topictitle2" id="ariaid-title24" style=""><strong class="ph b">Program the Application</strong></h2><div class="body"><p class="p">Now, the project is ready to be programmed on the hardware board. Refer to the hardware user-guide to see the different programming options supported.</p>
<p class="p">The SAME54 Xplained board can be programmed using the on-board debugger <strong class="ph b">EDBG</strong>.</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Connect a micro-USB cable from computer to the <strong class="ph b">DEBUG USB</strong> port on the SAM E54 Xplained Ultra board.</p>
</li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Program the application by clicking on the <strong class="ph b">Make and Program Device Main Project</strong>.</p>
<br /><img class="image" src="GUID-6CB42059-40BA-494F-B8E4-FCB0F7A5B711-low.png" alt="project_program" /><br /></li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">Make sure that the programming is successful.</p>
</li>
</ol>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title25" id="test-the-application"><h2 class="title topictitle2" id="ariaid-title25" style=""><strong class="ph b">Test the Application</strong></h2><div class="body"><p class="p">The testing of the application is done using different console commands.</p>
<p class="p">There will be a virtual COM port enumerated when a micro-USB cable from the computer is connected to the <strong class="ph b">DEBUG USB</strong> port on SAM E54 Xplained Ultra board.</p>
<ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p">Open a terminal application (eg: TeraTerm) and configure the baud rate for <strong class="ph b">115200</strong>.</p>
<br /><img class="image" src="GUID-83C37950-2B0E-4C96-B805-66905A489E15-low.png" alt="open_teraterm" /><br /></li>
<li class="li"><span class="indent-level-default">2.</span><p class="p">Press the <strong class="ph b">Reset</strong> button on the SAM E54 Xplained Ultra board.</p>
</li>
<li class="li"><span class="indent-level-default">3.</span><p class="p">The following messages will be visible on the terminal window.</p>
<br /><img class="image" src="GUID-7FE4A27D-8D03-461F-AF04-520459AF4DD2-low.png" alt="run_teraterm_outout_1" /><br /></li>
<li class="li"><span class="indent-level-default">4.</span><p class="p">Type <strong class="ph b">ping &lt;PC's IP address&gt;</strong> in the terminal window and press <strong class="ph b">Enter</strong> to see responses.</p>
<br /><img class="image" src="GUID-D17929EB-4EB4-4B76-8495-CE5CC01A819A-low.png" alt="run_teraterm_ping" /><br /></li>
<li class="li"><span class="indent-level-default">5.</span><p class="p">You can also ping this board from your PC using cmd prompt as shown below.</p>
<br /><img class="image" src="GUID-B1B9E430-B2BA-4A62-A232-7CE5AF7A90CB-low.png" alt="run_pc_cmd_pingy" /><br /></li>
<li class="li"><span class="indent-level-default">6.</span><p class="p">Currently, WINC driver is configured not to display any logs. You can change this setting in MHC by going to <strong class="ph b">DRIVER LAYER</strong> and modifying the WINC configuration as shown below.</p>
<br /><img class="image" src="GUID-80EB8047-3FFC-4F7A-925F-F036854DE6C9-low.png" alt="run_mhc_winc_change_log_conf" /><br /></li>
<li class="li"><span class="indent-level-default">7.</span><p class="p">After re-generating and re-programming with logging turned on, you will see following output in tera term console.</p>
<br /><img class="image" src="GUID-0940D5B1-9189-4D3C-91ED-F0E76E766F3C-low.png" alt="run_teraterm_winc_log" /><br /></li>
</ol>
<p class="p">You have successfully created and tested your first WINC3400 Bypass mode Application.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title26" id="references"><h2 class="title topictitle2" id="ariaid-title26" style=""><strong class="ph b">References</strong></h2><div class="body"><ol class="ol"><li class="li"><span class="indent-level-default">1.</span><p class="p"><a class="xref" href="https://microchip-mplab-harmony.github.io/net/frames.html" target="_blank">TCP/IP Stack Library Help</a></p>
</li>
</ol>
</div>
</div>
</body>
</html>