<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="../../favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="../../assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2724382-16"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2724382-16'); </script> <script type="text/javascript" src="../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Example project creation - WINC3400+SAME54 Bypass mode | Harmony 3 Wireless application examples for WINC3400</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Example project creation - WINC3400+SAME54 Bypass mode" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Harmony 3 Wireless application examples for WINC3400" /> <meta property="og:description" content="Harmony 3 Wireless application examples for WINC3400" /> <link rel="canonical" href="../../apps/wifi_bypass_demos/winc3400_same54_bypassmode_from_scratch.html" /> <meta property="og:url" content="../../apps/wifi_bypass_demos/winc3400_same54_bypassmode_from_scratch.html" /> <meta property="og:site_name" content="Harmony 3 Wireless application examples for WINC3400" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Example project creation - WINC3400+SAME54 Bypass mode" /> <script type="application/ld+json"> {"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"../../assets/images/vendor/microchip_mplab_harmony_logo_150_transparent.png"}},"@type":"WebPage","url":"../../apps/wifi_bypass_demos/winc3400_same54_bypassmode_from_scratch.html","headline":"Example project creation - WINC3400+SAME54 Bypass mode","description":"Harmony 3 Wireless application examples for WINC3400","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../index.html" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="../../" class="nav-list-link">Harmony 3 Wireless application examples for WINC3400</a><ul class="nav-list "><li class="nav-list-item "><a href="../../apps/getting_started/create_winc_project_from_scratch.html" class="nav-list-link">Create WINC Project - Getting Started</a></li><li class="nav-list-item "><a href="../../apps/getting_started/winc_supported_modes.html" class="nav-list-link">Supported Network Modes in WINC</a></li><li class="nav-list-item "><a href="../../apps/ap_scan/readme.html" class="nav-list-link">AP Scan</a></li><li class="nav-list-item "><a href="../../apps/wifi_winc_sta_bypass/readme.html" class="nav-list-link">STA Bypass mode</a></li><li class="nav-list-item "><a href="../../apps/power_save_mode_example/readme.html" class="nav-list-link">Power Save Mode</a></li><li class="nav-list-item "><a href="../../apps/tcp_client/readme.html" class="nav-list-link">TCP Client</a></li><li class="nav-list-item "><a href="../../apps/wifi_tcp_server_in_softap/readme.html" class="nav-list-link">TCP Server in SoftAP</a></li><li class="nav-list-item "><a href="../../apps/wifi_socket_demos/readme.html" class="nav-list-link">Wi-Fi Socket Mode Demos</a></li><li class="nav-list-item "><a href="../../apps/wifi_bypass_demos/readme.html" class="nav-list-link">Wi-Fi Bypass Mode Demos</a></li><li class="nav-list-item "><a href="../../apps/wifi_provisioning_via_wps/readme.html" class="nav-list-link">Wifi Provisioning via WPS</a></li><li class="nav-list-item "><a href="../../apps/wifi_provision_via_ble/readme.html" class="nav-list-link">Wi-Fi provisioning using BLE</a></li><li class="nav-list-item "><a href="../../apps/wifi_provisioning_via_softap/readme.html" class="nav-list-link">Wifi Provisioning via SoftAP</a></li><li class="nav-list-item "><a href="../../apps/wifi_socket_demos/winc_same54_socketmode_from_scratch.html" class="nav-list-link">Example project creation - WINC3400+SAME54 Socket mode</a></li><li class="nav-list-item active"><a href="../../apps/wifi_bypass_demos/winc3400_same54_bypassmode_from_scratch.html" class="nav-list-link active">Example project creation - WINC3400+SAME54 Bypass mode</a></li><li class="nav-list-item "><a href="../../apps/getting_started/winc_firmware_upgrade.html" class="nav-list-link">Firmware Upgrade of WINC Devices</a></li><li class="nav-list-item "><a href="../../apps/wifi_socket_demos/winc_samd21_socketmode_from_scratch.html" class="nav-list-link">Example project creation - WINC3400+SAMD21 Socket mode</a></li></ul></li><li class="nav-list-item"><a href="../../release_notes.html" class="nav-list-link">Release notes</a></li><li class="nav-list-item"><a href="../../mplab_harmony_license.html" class="nav-list-link">License</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Harmony 3 Wireless application examples for WINC3400" aria-label="Search Harmony 3 Wireless application examples for WINC3400" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://support.microchip.com" class="site-button" > Obtain Support from Microchip </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../">Harmony 3 Wireless application examples for WINC3400</a></li> <li class="breadcrumb-nav-list-item"><span>Example project creation - WINC3400+SAME54 Bypass mode</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="create-your-first-win3400-bypass-mode-example-using-harmony-tcpip-stack"> <a href="#create-your-first-win3400-bypass-mode-example-using-harmony-tcpip-stack" aria-labelledby="create-your-first-win3400-bypass-mode-example-using-harmony-tcpip-stack" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Create your first WIN3400 Bypass mode example using Harmony TCP/IP stack</strong> </h1> <h2 id="overview"> <a href="#overview" aria-labelledby="overview" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Overview</strong> </h2> <p>This tutorial is a getting-started guide to demonstrate how to create a WINC3400 Bypass (Ethernet) mode example using MPLAB® Harmony v3 TCP/IP stack.</p> <p>This tutorial implements a simple STA Client application on a microcontroller development board. This will guide you through the steps required to create a new TCP/IP application using MPLAB® Harmony 3 modules.</p> <h2 id="software-details"> <a href="#software-details" aria-labelledby="software-details" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Software Details</strong> </h2> <p>This tutorial is tested with following tool versions.</p> <ul> <li><a href="https://www.microchip.com/mplab/mplab-x-ide">MPLAB® X IDE v5.40</a></li> <li><a href="https://www.microchip.com/mplab/compilers">MPLAB® XC32/32++ C Compiler v2.40</a></li> <li><a href="https://www.microchip.com/mplab/mplab-harmony">MPLAB® Harmony Configurator Plugin (MHC) v3.6.0</a></li> <li><a href="https://www.microchip.com/mplab/mplab-harmony">MPLAB® Harmony v3 Software Framework</a></li> </ul> <p><strong>Note</strong> : Harmony 3 comes in modular format where user can choose which modules to work with. In order to create WINC1500 bypass mode example, following modules are essential.</p> <p>Harmony Content Manager tool can be used to download/clone the repositories from Github.</p> <ul> <li>bsp v3.9.0</li> <li>core v3.9.2</li> <li>csp v3.9.1</li> <li>dev_packs v3.9.0</li> <li>mhc v3.8.0</li> <li>net v3.7.2</li> <li>wireless_wifi v3.5.1</li> <li>wireless_apps_winc3400 v3.4.1</li> </ul> <h2 id="hardware-setup"> <a href="#hardware-setup" aria-labelledby="hardware-setup" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Hardware Setup</strong> </h2> <p>The getting-started guide demonstrates the creation of a TCP/IP demo on the <strong>SAM E54 Xplained Pro</strong> board with the <strong>ATWINC1500 XPRO board</strong>. These steps can be applied for other supported development boards applying the device/board specific configuration changes. The microcontroller should be supported by NET and Wireless modules within H3. At this point, SAM E54 is the only device supported by both modules. New device support is constantly added to modules. Check the individual module release notes for more details about device support.</p> <ul> <li><a href="https://www.microchip.com/developmenttools/ProductDetails/ATSAME54-XPRO">SAME54 Xplained PRO</a></li> <li><a href="https://www.microchip.com/DevelopmentTools/ProductDetails/ATWINC3400-XPRO">ATWINC3400 XPRO</a></li> </ul> <p>The SAME54 Xplained PRO contains a built-in programmer-debugger tool called Embedded Debugger (EDBG) which is used in this tutorial.</p> <ul> <li>Embedded Debugger (<a href="http://ww1.microchip.com/downloads/en/devicedoc/atmel-42096-microcontrollers-embedded-debugger_user-guide.pdf">EDBG</a>).</li> </ul> <p>Following image shows the hardware setup.</p> <p><img src="images/winc3400_same54_bypassmode/samd21_57.PNG" alt="Demonstration Hardware" /></p> <h2 id="creating-a-new-harmony-project"> <a href="#creating-a-new-harmony-project" aria-labelledby="creating-a-new-harmony-project" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Creating a new Harmony project</strong> </h2> <p>Follow the steps to create a basic Harmony project. The assumption is that H3 modules are cloned at <strong>“C:\microchip\harmony\v3"</strong></p> <ol> <li> <p>Open the <strong>MPLAB® X IDE</strong>.</p> </li> <li> <p>Create a New Project by selecting <strong>File &gt; New Project</strong>.</p> </li> <li> <p>In the New Project window select <strong>32-Bit MPLAB® Harmony 3 Project</strong> and click <strong>Next</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/new_project_choose_project.PNG" alt="Microchip Technology" /></p> <p><strong>Note:</strong> The MPLAB® Harmony 3 Project will not be displayed if the MPLAB® Harmony 3 Configurator plug-in is not installed. It has to be installed before continuing with the next steps.</p> </li> <li> <p>In the <strong>Framework Path</strong>, enter the path of the folder to which the MPLAB® Harmony 3 packages are downloaded.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/new_project_manage_framework.PNG" alt="Microchip Technology" /></p> </li> <li>In the Project Setting dialog window, fill in or select the information needed as follows: <ul> <li><strong>Location</strong>: First, create a “winc_bypass_getting_started” folder in the location of your choice (for example, create the application project inside the ‘C:\microchip\harmony\v3\wireless_apps_winc3400\apps' folder). Then enter the path in this field.</li> <li><strong>Folder</strong>: Project Folder name. For example, <strong>sam_e54_xpro_winc3400</strong>.</li> <li><strong>Name</strong>: Project Name i.e. <strong>winc_bypass_getting_started_sam_e54_xpro_winc3400</strong>.</li> <li> <p><strong>Path</strong>: Selecting the above fields auto populates the <strong>Path</strong>.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_project_location.PNG" alt="Microchip Technology" /></p> </li> <li>Click <strong>Next</strong>.</li> </ul> </li> <li>In the Configuration Settings dialog window, fill in or select the information needed as follows: <ul> <li><strong>Name</strong>: Configuration Name. For example, <strong>sam_e54_xpro_winc3400</strong>.</li> <li><strong>Target Device</strong>: Use the below table to chose the target device part number based on the demo board that you are using. For this example: SAM E54 Xplained Pro uses <strong>ATSAME54P20A</strong>.</li> <li> <p>The <strong>Device Filter</strong> textbox helps narrow down list of available devices as shown.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_project_config.PNG" alt="Microchip Technology" /></p> </li> <li>Click <strong>Finish</strong>.</li> </ul> </li> <li> <p>First time when you create a Harmony 3 project, “Window Manager Selection Dialog” appears. The user can select “Standalone” or “Native” depending upon the preference. “Standalone” opens the MHC in a separate window. “Native” opens MHC as a window within MPLAB® X IDE.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc3_window_manager_selection.PNG" alt="Microchip Technology" /></p> </li> <li> <p>If the above dialog window doesn’t appear then MHC can be launched by selecting MPLAB® Harmony 3 Configurator under <strong>Tools -&gt; Embedded -&gt; MPLAB® Harmony 3 Configurator</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/project_start_mhc.PNG" alt="Microchip Technology" /></p> </li> <li> <p>In the MPLAB® Harmony Launcher window, leave the launch path as default option i.e. <strong>MPLAB® Harmony Project Path</strong> but make sure it is correctly pointed to desired H3 cloned directory and click <strong>Launch</strong>.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_mhc_launch_1.PNG" alt="Microchip Technology" /></p> </li> <li> <p>In the <strong>Configuration Database Setup</strong> window, leave the DFP and CMSIS paths as default and click <strong>Launch</strong></p> <p><img src="images/winc3400_same54_bypassmode/winc3400_mhc_launch_2.PNG" alt="Microchip Technology" /></p> </li> <li> <p>MHC window will open now. The default standalone Harmony configurator will be as shown below.</p> <p>Different parts of configurator are:</p> <ul> <li><strong>Available Components</strong></li> <li><strong>Active Components</strong></li> <li><strong>Project Graph</strong></li> <li><strong>Configuration Options</strong></li> <li> <p><strong>Console Window</strong></p> <p><img src="images/winc3400_same54_bypassmode/winc3400_project_graph.PNG" alt="Microchip Technology" /></p> </li> </ul> </li> <li> <p>Depending upon the application needs, the necessary components can be added from the <strong>Available Components</strong>. Go to <strong>Available Components -&gt; Board Support Packages (BSPs)</strong> and double click on the Board support package for the target board. Below example shows the BSP for SAME54 Xplained Ultra board.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_bsp.PNG" alt="Microchip Technology" /></p> <p>After adding BSP, the Project Graph will look as below:</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_bsp_active.PNG" alt="Microchip Technology" /></p> <p>Basic components needed for creating a project will be available in project graph by default. The next step would be to configure the components based on the application needs.</p> </li> </ol> <h2 id="add-tcpip-components"> <a href="#add-tcpip-components" aria-labelledby="add-tcpip-components" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Add TCP/IP Components</strong> </h2> <p>The <strong>TCP/IP</strong> components can be added from the <strong>Available Components</strong>. Go to <strong>Available Components -&gt; Libraries -&gt; TCPIP</strong></p> <p>The TCP/IP components are categorized into 5 different groups and a configurator is available for each group.</p> <p>These configurators are:</p> <ul> <li><strong>TCP/IP Application Layer Configurator</strong></li> <li><strong>TCP/IP Transport Layer Configurator</strong></li> <li><strong>TCP/IP Network Layer Configurator</strong></li> <li><strong>TCP/IP Driver Layer Configurator</strong></li> <li><strong>TCP/IP Basic Configurator</strong></li> </ul> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_avlbl_comp.PNG" alt="Microchip Technology" /></p> <p><strong>Note:</strong> It is recommended to add the TCP/IP components using these configurators.</p> <p>When the components are added using configurators, the dependent modules will be auto-activated.</p> <h2 id="application-layer-configurator"> <a href="#application-layer-configurator" aria-labelledby="application-layer-configurator" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Application Layer Configurator</strong> </h2> <ol> <li> <p>Under <strong>Available Components</strong>, Select the <strong>TCP/IP Application Layer Configurator</strong> and double click. This step will add the <strong>TCP/IP Application Layer Configurator</strong> inside the <strong>APPLICATION LAYER</strong> group.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_tcp_ip_application.PNG" alt="Microchip Technology" /></p> </li> <li> <p>This step also creates a hierarchy of groups as <strong>Root-&gt;TCP/IP STACK-&gt;APPLICATION LAYER</strong>. Verify the hierarchy by going <strong>View:</strong> dropdown and check out different layers.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_view_dropdown.PNG" alt="Microchip Technology" /></p> </li> <li> <p>If you changed the view, come back to <strong>APPLICATION LAYER</strong> view by using <strong>View:</strong> dropdown.</p> </li> <li> <p>Select the <strong>TCP/IP Application Layer Configurator</strong>. See the configurations options on right hand side.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_show.PNG" alt="Microchip Technology" /></p> <p>The different application protocols supported in the Harmony TCP/IP stack are listed.</p> <p>Start selecting the required TCP/IP application layer protocols from the <strong>Configuration Options</strong> on right hand side.</p> </li> <li> <p>For the Getting Started demo, select the <strong>DHCP CLIENT</strong>. This step will auto-activate all the dependent components.</p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>Harmony Core</strong> component.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_dhcpc_core.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>No</strong> to for the FreeRTOS auto-activation as this demo does not need the FreeRTOS.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_rtos.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>TIME</strong> (sys_time) component.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_time.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>CONSOLE</strong> (sys_console) component.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_console.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to connect the <strong>CONSOLE</strong> component with <strong>TCP/IP CORE</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_console_autoconn.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>DEBUG</strong> (sys_debug) component.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_debug.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to connect the <strong>CONSOLE</strong> component with <strong>TCP/IP CORE</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_debug_autoconn.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>IPv4</strong> component in TCP/IP Network Layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_ipv4.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>ARP</strong> component in TCP/IP Network Layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_arp.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>UDP</strong> component in TCP/IP Transport Layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_udp.PNG" alt="Microchip Technology" /></p> <p>After the auto-activation of dependent components, the <strong>DHCP CLIENT</strong> component is added to Project Graph</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_dhcpc_done.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Add the <strong>DNS CLIENT</strong> to <strong>APPLICATION LAYER</strong></p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_app_configurator_dnsc.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="transport-layer-configurator"> <a href="#transport-layer-configurator" aria-labelledby="transport-layer-configurator" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Transport Layer Configurator</strong> </h2> <ol> <li> <p>Click on <strong>View:</strong> dropdown and go to the <strong>TRANSPORT LAYER</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_view_dropdown_app_to_trans.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select the <strong>TCP/IP Transport Layer Configurator</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_trans_configurator.PNG" alt="Microchip Technology" /></p> <p>UDP has been auto-activated while adding the Application Layer components.</p> </li> <li> <p>Add the <strong>TCP</strong> protocol support for this demo.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_trans_configurator_tcp.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>TCP</strong> component in the TCP/IP Transport Layer</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_trans_configurator_tcp_done.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="network-layer-configurator"> <a href="#network-layer-configurator" aria-labelledby="network-layer-configurator" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Network Layer Configurator</strong> </h2> <ol> <li> <p>Click on <strong>View:</strong> dropdown and go to the <strong>NETWORK LAYER</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_view_dropdown_trans_to_netw.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select the <strong>TCP/IP Network Layer Configurator</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_network_configurator.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Add the <strong>ICMPv4</strong> protocol support for this demo.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_network_icmp.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to add the <strong>ICMPv4</strong> component in the TCP/IP Network Layer</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_network_icmp_done.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select <strong>ICMPv4</strong> component in project graph to show its configuration settings in Configuration Options window. Enable checkbox for <strong>Use ICMPv4 Client</strong>. We need this to be able to ping other devices.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_network_icmpc_enable.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="driver-layer-configurator"> <a href="#driver-layer-configurator" aria-labelledby="driver-layer-configurator" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Driver Layer Configurator</strong> </h2> <ol> <li> <p>Click on <strong>View:</strong> dropdown and go to the <strong>DRIVER LAYER</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_view_dropdown_netw_to_drv.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select the <strong>TCP/IP Driver Layer Configurator</strong> and enable <strong>WINC</strong> module checkbox. Click <strong>Yes</strong> to add the <strong>WINC</strong> component in the TCP/IP Driver Layer</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_drv_layer_winc.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to connect the <strong>WINC</strong> component with the <strong>NETCONFIG</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_drv_winc_mac_depndncy.PNG" alt="Microchip Technology" /></p> </li> <li> <p><strong>WINC</strong> component is added in the TCP/IP Driver Layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_drv_winc_added.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="basic-configuration"> <a href="#basic-configuration" aria-labelledby="basic-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Basic Configuration</strong> </h2> <ol> <li> <p>Click on <strong>View:</strong> dropdown and go to the <strong>Basic Configuration</strong> layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_view_dropdown_drv_to_basic.PNG" alt="Microchip Technology" /></p> </li> <li> <p>This layer contains TCP/IP stack’s core configuration,interface selection, heap management, MAC configuration, etc. <strong>Basic STACK Configuration</strong> and <strong>Network Configuration</strong> are already auto-activated, during previous steps.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_basic_configurator.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select the <strong>TCP/IP Basic Configurator</strong> and enable <strong>TCPIP CMD</strong></p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_basic_cmd.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click <strong>Yes</strong> to connect the <strong>CMD</strong> component with the <strong>SYS Console</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_basic_cmd_depndncy.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Command module is added to the <strong>Basic Configuration</strong> layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_basic_cmd_added.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="satisfying-module-dependencies"> <a href="#satisfying-module-dependencies" aria-labelledby="satisfying-module-dependencies" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Satisfying Module Dependencies</strong> </h2> <p>The project needs few more Harmony components. In this section, we will add and configure the required components.</p> <ol> <li> <p>Click on <strong>View:</strong> dropdown and go to the <strong>Root</strong> layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_view_dropdown_basic_to_root.PNG" alt="Microchip Technology" /></p> <p>The <strong>Root</strong> layer will be as shown below. The <strong>red diamond-shaped</strong> buttons are unsatisfied mandatory dependencies. the connections might look messy at first. Feel free to move around some boxes so that project graph looks pretty.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_1.PNG" alt="Microchip Technology" /></p> </li> </ol> <ul> <li><strong>Note:</strong> There are two ways to satisfy dependencies. You can either <strong>right-click</strong> on red diamonds and select available satisfiers <strong>OR</strong> you can manually add components from Avilable Components window and <strong>manually</strong> connect diamonds. Both ways are shown here.</li> </ul> <h3 id="satisfy-timer-dependency"> <a href="#satisfy-timer-dependency" aria-labelledby="satisfy-timer-dependency" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Satisfy Timer dependency:</strong> </h3> <ol> <li> <p>Right click on red diamond for <strong>TIME</strong> module. From the list of Satisfiers, select <strong>TC3</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_project_tcpip_root_tc.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Timer peripheral instance <strong>TC3</strong> will be added to <strong>Root</strong> layer and connected to the <strong>TIMER</strong> module.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_tc_done.PNG" alt="Microchip Technology" /></p> </li> </ol> <h3 id="satisfy-console-dependency"> <a href="#satisfy-console-dependency" aria-labelledby="satisfy-console-dependency" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Satisfy Console dependency:</strong> </h3> <ol> <li> <p>From <strong>Available Components &gt; Peripherals &gt; SERCOM &gt;</strong>, double-click on <strong>SERCOM2</strong> to add it to current layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_avilable_plib_sercom.PNG" alt="Microchip Technology" /></p> </li> <li> <p><strong>SERCOM2</strong> is added to the <strong>Root</strong> layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_sercom_added.PNG" alt="Microchip Technology" /></p> </li> <li> <p>To satisy Console UART dependency, <strong>manually connect UART diamond from SERCOM2 with the UART diamond of CONSOLE module</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_console_uart_connection.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select <strong>SERCOM2</strong> in the Project Graph. In the Configuration Options of <strong>SERCOM2</strong>,</p> <ul> <li>Set the <strong>TX Ring Buffer Size</strong> to <strong>1024</strong></li> <li>Set the <strong>Receive Pinout</strong> to <strong>PAD[1]</strong>.</li> </ul> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_sercom_recv_pad.PNG" alt="Microchip Technology" /></p> </li> </ol> <h3 id="satisfy-tcpip-stacks-ie-wincs-spi-dependency"> <a href="#satisfy-tcpip-stacks-ie-wincs-spi-dependency" aria-labelledby="satisfy-tcpip-stacks-ie-wincs-spi-dependency" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Satisfy TCP/IP Stack’s (i.e. WINC’s) SPI dependency:</strong> </h3> <ol> <li> <p>Right click on <strong>DRV_SPI</strong> red diamond of <strong>TCP/IP STACK</strong> module and select <strong>SPI</strong> as satisfier.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_spi_drv.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Right click on red diamond of SPI driver module and select <strong>SERCOM4</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_drv_spi_plib.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select <strong>SERCOM4</strong> in the Project Graph. In the Configuration Options of <strong>SERCOM4</strong>,</p> <ul> <li>Set the <strong>Data IN pad</strong> to <strong>PAD[3]</strong></li> <li>Select <strong>Enable SPI Master Hardware Select</strong> checkbox.</li> </ul> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_sercom_spi_settings.PNG" alt="Microchip Technology" /></p> </li> </ol> <h3 id="satisfy-transport-layer-lib_crypto-dependency"> <a href="#satisfy-transport-layer-lib_crypto-dependency" aria-labelledby="satisfy-transport-layer-lib_crypto-dependency" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Satisfy Transport Layer LIB_CRYPTO Dependency:</strong> </h3> <ol> <li> <p>Click on <strong>View</strong>: dropdown and go to the <strong>Tranport layer</strong>.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_transport_layer.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Right click on <strong>LIB_CRYPTO</strong> of <strong>TCP</strong> and select <strong>Cryptographic Library</strong> from <strong>Available Satisfiers</strong></p> <p><img src="images/winc3400_same54_bypassmode/winc3400_transport_layer_1.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Right click on <strong>LIB_WOLFCRYPT</strong> of <strong>Cryptographic Library</strong> and select <strong>wolfCrypt Library</strong> from the list of Satisfiers.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_transport_layer_2.PNG" alt="Microchip Technology" /></p> </li> <li> <p>The project graph will become:</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_transport_layer_3.PNG" alt="Microchip Technology" /></p> </li> </ol> <h3 id="satisfy-wincs-external-interrupt-dependency"> <a href="#satisfy-wincs-external-interrupt-dependency" aria-labelledby="satisfy-wincs-external-interrupt-dependency" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Satisfy WINC’s External Interrupt dependency:</strong> </h3> <ol> <li> <p>From <strong>Available Components &gt; Peripherals &gt; EIC &gt;</strong>, double-click on <strong>EIC</strong> to add it to current Root layer.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_avilable_plib_eic.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select <strong>EIC</strong> in the Project Graph. In the Configuration Options of <strong>EIC</strong>,</p> <ul> <li>Select <strong>Enable EIC channel 7</strong>.</li> <li>Select <strong>Enable Interrupt</strong></li> <li>Set the Edge selection to <strong>Falling edge detection</strong>.</li> </ul> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_root_eic_conf.PNG" alt="Microchip Technology" /></p> </li> </ol> <p>All necessary dependencies are care of.</p> <h2 id="project-heap-configuration"> <a href="#project-heap-configuration" aria-labelledby="project-heap-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Project Heap Configuration</strong> </h2> <ol> <li> <p>Select the <strong>System</strong> in the Project Graph. In Configuration Options, set the <strong>Heap Size (bytes)</strong> to <strong>96960</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_system_heap.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="winc-driver-configuration"> <a href="#winc-driver-configuration" aria-labelledby="winc-driver-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>WINC Driver Configuration</strong> </h2> <ol> <li> <p>Click on <strong>View:</strong> dropdown and go to the <strong>DRIVER LAYER</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_view_dropdown_root_to_drv.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select <strong>WINC</strong> module in project graph. In the Configuration Options window, select the Interrupt Source for WINC as recently enabled <strong>EIC Channel 7</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_drv_winc_conf_eic.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="pin-configuration"> <a href="#pin-configuration" aria-labelledby="pin-configuration" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Pin Configuration</strong> </h2> <p>The I/O pins on the device can have alternate functions other than the general purpose I/O function. Here, we will configure the functionality of the I/O pins required for this demo.</p> <ol> <li> <p>Open <strong>MHC -&gt; Tools -&gt; Pin Configuration</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_pin_config.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Configure the pins for <strong>EXT_INT7, SERCOM2, SERCOM4 and 2 GPIO</strong> as shown below. Notice the GPIO pins must have <strong>Custom Name</strong> as shown in the figure.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_reset_pin.PNG" alt="Microchip Technology" /></p> </li> </ol> <img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_pin_config_2.PNG" alt="Microchip Technology" /> <h2 id="code-generation"> <a href="#code-generation" aria-labelledby="code-generation" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Code Generation</strong> </h2> <p>Once Harmony components are added using MHC to the Project Graph, it’s time to generate the source files based on the configurations.</p> <ol> <li> <p>Click Save button and Generate the code by clicking the <strong>Generate Code</strong> button (marked in red).</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_generate_code.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Select the <strong>Merge Strategy</strong> as <strong>USER ALL</strong>. Refer to the MHC documentation for different merge strategy options.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_generate_code_merg_strat.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Click the <strong>Generate</strong> button to start the code generation.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/mhc_steps_tcpip_generate_code_progress.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="application-coding"> <a href="#application-coding" aria-labelledby="application-coding" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Application Coding</strong> </h2> <p>Now, you have the MPLAB® Harmony components configured for a TCP/IP application. The Getting-Started demo implements a simple Wi-Fi STA application. This application is written using the APIs provided by the MPLAB® Harmony TCP/IP Stack.</p> <p>There is already a STA demo implemented at <strong>D:\MH3\wireless_apps_winc3400\apps\wifi_winc_sta_bypass</strong>. Let’s make use of those source files for the <strong>winc_bypass_getting_started</strong> demo.</p> <ol> <li> <p>Copy the application files (i.e. <strong>app.c</strong>, <strong>app.h</strong>) from <strong>D:\MH3\wireless_apps_winc3400\apps\wifi_winc_sta_bypass\firmware\src</strong>.</p> </li> <li> <p>Paste the application files at our current project’s location. <strong>D:\MH3\wireless_apps_winc3400\apps\winc_bypass_getting_started\firmware\src</strong>.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_copy_files.PNG" alt="Microchip Technology" /></p> </li> <li> <p>In MPLAB® X IDE project, open the <strong>app.c</strong> file that has been added to project and change the access point parameters as shown in the picture below.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_homeap.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="build-the-application"> <a href="#build-the-application" aria-labelledby="build-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Build the Application</strong> </h2> <ol> <li> <p>Open the project <strong>Properties</strong> by Right Clicking on the project name (winc_bypass_getting_started). Ensure that the <strong>XC32</strong> Compiler Tool-chain and <strong>SAME54 EDBG</strong> hardware tool is selected. Press <strong>OK</strong>.</p> <p><img src="images/winc3400_same54_bypassmode/winc3400_project_properties.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Build the application by clicking on the <strong>Build Main Project</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/project_build.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Verify the build results. Make sure that the build is successful.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/project_build_result.PNG" alt="Microchip Technology" /></p> </li> </ol> <h2 id="program-the-application"> <a href="#program-the-application" aria-labelledby="program-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Program the Application</strong> </h2> <p>Now, the project is ready to be programmed on the hardware board. Refer to the hardware user-guide to see the different programming options supported.</p> <p>The SAME54 Xplained board can be programmed using the on-board debugger <strong>EDBG</strong>.</p> <ol> <li> <p>Connect a micro-USB cable from computer to the <strong>DEBUG USB</strong> port on the SAM E54 Xplained Ultra board.</p> </li> <li> <p>Program the application by clicking on the <strong>Make and Program Device Main Project</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/project_program.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Make sure that the programming is successful.</p> </li> </ol> <h2 id="test-the-application"> <a href="#test-the-application" aria-labelledby="test-the-application" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Test the Application</strong> </h2> <p>The testing of the application is done using different console commands.</p> <p>There will be a virtual COM port enumerated when a micro-USB cable from the computer is connected to the <strong>DEBUG USB</strong> port on SAM E54 Xplained Ultra board.</p> <ol> <li> <p>Open a terminal application (eg: TeraTerm) and configure the baud rate for <strong>115200</strong>.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/open_teraterm.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Press the <strong>Reset</strong> button on the SAM E54 Xplained Ultra board.</p> </li> <li> <p>The following messages will be visible on the terminal window.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/run_teraterm_outout_1.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Type <strong>ping &lt;PC’s IP address&gt;</strong> in the terminal window and press <strong>Enter</strong> to see responses.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/run_teraterm_ping.PNG" alt="Microchip Technology" /></p> </li> <li> <p>You can also ping this board from your PC using cmd prompt as shown below.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/run_pc_cmd_ping.PNG" alt="Microchip Technology" /></p> </li> <li> <p>Currently, WINC driver is configured not to display any logs. You can change this setting in MHC by going to <strong>DRIVER LAYER</strong> and modifying the WINC configuration as shown below.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/run_mhc_winc_change_log_conf.PNG" alt="Microchip Technology" /></p> </li> <li> <p>After re-generating and re-programming with logging turned on, you will see following output in tera term console.</p> <p><img src="../../apps/wifi_bypass_demos/images/winc3400_same54_bypassmode/run_teraterm_winc_log.PNG" alt="Microchip Technology" /></p> </li> </ol> <p>You have successfully created and tested your first WINC3400 Bypass mode Application.</p> <h2 id="references"> <a href="#references" aria-labelledby="references" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>References</strong> </h2> <ol> <li><a href="https://microchip-mplab-harmony.github.io/net/frames.html">TCP/IP Stack Library Help</a></li> </ol> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0"><img src='https://raw.githubusercontent.com/wiki/Microchip-MPLAB-Harmony/Microchip-MPLAB-Harmony.github.io/images/microchip_logo.png' /><br />Copyright &copy; 2020 Microchip Technology.</p> <!-- <p class="text-small text-grey-dk-000 mb-0"><img src='../../assets/images/vendor/microchip_logo.png' /><br /> Copyright &copy; 2021 Microchip Technology.</p> --> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
